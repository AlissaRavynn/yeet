<!DOCTYPE html>
<html>
    <head>
        <title>Kinklist</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="//code.jquery.com/jquery-2.1.4.min.js"></script>
        <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTAvMjEvMTV5ehY1AAAAZElEQVQ4jaWTwQ3AIAwDbcT+I9f9hjYQA/mAkO7igKAACWdFAF0A2gb0hP0uCyTATyAJSoaK5xGyEmTC9lktmORUdAQvBQ5cJshktoDk0HkmKRNUEmuE6ztYVXe7bT+jW7z9zi8qYiodCjCHKgAAAABJRU5ErkJggg==">
        <style>
            body {
                font-family: 'Verdana', 'Arial';
                font-size: 12px;
            }
            h2 {
                padding: 0;
                margin: 0;
                margin-top: 10px;
                margin-bottom: 5px;
                font-size: 18px;
            }
            table {
                border-collapse: collapse;
                margin-bottom: 10px;
                width: 100%;
            }
            th {
                border: solid #999 1px;
                border-right: none;
                margin: 0px;
                padding: 4px;
                background-color: #666;
                color: #FFF;
            }
            th.choicesCol {
                box-sizing: border-box;
                width: 125px;
            }
            th + th {
                border-left: none;
            }
            th:last-child {
                border-right: solid #999 1px;
            }
            td {
                border-left: solid #999 1px;
                border-bottom: solid #999 1px;
                border-right: solid #999 1px;
                margin: 0px;
                padding: 4px;
                padding-right: 2px;
            }
            @-moz-document url-prefix() { 
              td {
                 padding: 3.3px;
              }
            }            
            td + td {
                border-left-style: none;
            }
            .choice {
                box-sizing: border-box;
                width: 15px;
                height: 15px;
                opacity: 0.35;
                overflow: hidden;
                text-indent: 100px;
                border: solid #000 1px;
                border-radius: 50%;
                outline-style: none!important;
                vertical-align: middle;
                display: inline-block;
                cursor: pointer;
                font-size: 0;
                padding: 0;
            }
            .choices .choice {
                transition: all 0.3s ease-in-out;
            }
            .choice + .choice {
                margin-left: 5px;
            }
            .choices .choice:hover {
                opacity: 0.75;
            }
            .choice.selected, .selected > .choice {
                opacity: 1;
                border-width: 2px;
            }
            
            .legend {
                vertical-align: middle;
                font-size: 14px;
            }
            .legend div {
                display: inline-block;
            }
            .legend .choice {
                opacity: 1;
                cursor: default;
            }
            .legend-text {
                vertical-align: middle;
            }
            
            #ExportWrapper {
                width: 460px;
                height: 36px;
            }
            #URL {
                display: none;
                position: absolute;
                top: 3px;
                box-sizing: border-box;
                width: 300px;
                height: 30px;
                border-radius: 4px;
                border: solid #CCC 1px;
                font-size: 16px;
                padding: 10px;
                text-align: center;
                color: #666;
                font-weight: bold;
            }
            #Export {
                position: absolute;
                left: 310px;
                box-sizing: border-box;
                color: #FFF;
                text-transform: uppercase;
                background-color: #4980ae;
                font-size: 18px;
                width: 150px;
                height: 36px;
                border-style: none;
                border-radius: 4px;
                cursor: pointer;
                transition: all 0.3s ease-in-out;
            }
            #Export:hover {
                opacity: 0.85;
            }
            #Loading {
                display: none;
                overflow: visible;
                line-height: 26px;
                font-size: 16px;
                color: #999;
                font-weight: bold;
                position: absolute;
                top: 4px;
                left: 220px;
            }
            #Loading:before {
                content: '';
                position: absolute;
                box-sizing: border-box;
                width: 26px;
                height: 26px;
                border-radius: 50%;
                border: solid #999 2px;
                border-top-color: transparent;
                border-left-color: #CCC;
                border-right-color: #666;
                animation: spin .5s infinite linear;
                margin-left: -40px;
            }
            @media (min-width: 1700px) {
                .legend {
                    position: absolute;
                    top: 7px;
                    left: 160px;
                }
                .legend div {
                    width: 130px;
                }
                #ExportWrapper {
                    position: absolute;
                    top: -3px;
                    right: 46px;
                }
                h1 {
                    margin-bottom: 0;
                }
            }
            @media (max-width: 1700px) and (min-width: 800px) {
                .legend div {
                    width: 130px;
                    padding-bottom: 10px;
                }
                #ExportWrapper {
                    position: absolute;
                    top: -3px;
                    right: 46px;
                }
            }
            @media (max-width: 800px) and (min-width: 598px) {
                .legend div {
                    width: 180px;
                    padding-bottom: 10px;
                    padding-left: 10px;
                }
                #ExportWrapper {
                    position: relative;
                    margin-top: 10px;
                    margin-left: 5px;
                }
                #URL {
                    left: 155px;
                    width: 190px;
                    font-size: 10px;
                }
                #Export {
                    left: 0px;
                }
                #Loading {
                    left: 230px;
                }
            }
            @media (max-width: 597px) {
                body {
                    font-size: 10px;
                }
                table {
                    min-width: 345px;
                }
                .legend div {
                    width: 150px;
                    padding-bottom: 10px;
                    padding-left: 10px;
                }
                #ExportWrapper {
                    position: relative;
                    margin-top: 10px;
                    margin-left: 0px;
                    width: 345px;
                }
                #URL {
                    left: 155px;
                    width: 190px;
                    font-size: 10px;
                }
                #Export {
                    left: 0px;
                }
                #Loading {
                    left: 230px;
                }
            }
            @keyframes spin {
                0% {transform: rotate(0deg);}
                100% {transform: rotate(-360deg);}
            }
            
            #ExportWrapper :last-child:after {
                content: '';
                display: block;
                clear: both;
            }
            .kinkCategory {
                
            }
            .col {
                float: left;
                box-sizing: border-box;
                margin: 0;
                padding: 5px;
            }
            .col.col25 { width: 25%; }
            .col.col33 { width: 33.33333%; }
            .col.col50 { width: 50%; }
            .col.col100 { width: 100%; padding: 0px; }
            .widthWrapper {
                max-width: 1700px;
                margin-left: auto;
                margin-right: auto;
                position: relative;
            }
            #Edit {
                width: 18px;
                height: 18px;
                background-color: transparent;
                background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTAvMTIvMTUsb8MLAAABaElEQVQ4jZWUvY3jMBCF390mzpQ6I1wBS5A6oDuQOxi4Ap4rUAlqwR1M7IhQBYRCR1To7G1giJBkes/7gElGg4/zK7AgVaWI0FpLAIwxlsJWwtbRdR0BrKzruvw9pUTnHEMIP4NCCC8gay2991TVnGVVVSvYCyil9AJ6Z0sY5nJCCEwp5Rc/NefcE6Sqb4OMMRQRigiNMcWSU0pPkIgUIW3b5gmqKkmybdtVzOwnSZRKMcaQJOu6zr66rklylZn3PoO+7vf7P2x0Op2w2+1wuVyybxxHNE0DALjdbgCAaZrweDyw3+/xN8aIvu9hrd3y/qthGHA+n3E4HJDH773/dWnLpmfQdnqfNHs2EeEfkpymCU3TYBiGVerGGByPRwDA9XrFOI7FElX1WZpz7ldLOO9PCCHfIeb7qqrqY9C8hEvlHi1h1lqqKr33xZPZXv4KNMOcc6sX+77/8bdSBJUUY8xZisjqLJb6Bpjss/W5PAkOAAAAAElFTkSuQmCC');
                background-repeat: no-repeat;
                float: left;
                border-style: none;
                outline-style: none!important;
                margin-top: 6px;
                margin-right: 4px;
                opacity: 0.5;
                cursor: pointer;
            }
            #Edit:hover {
                opacity: 1;
            }
            
            .overlay {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: rgba(0, 0, 0, 0.8);
                display: none;
            }
            #EditOverlay #Kinks {
                box-sizing: border-box;
                position: absolute;
                top: 10px;
                bottom: 50px;
                width: 330px;
                left: 50%;
                margin-left: -165px;
                resize: none;
                padding: 10px;
                border-radius: 5px;
                font-family: monospace, 'Courier new', Courier;
            }
            #EditOverlay #KinksOK {
                box-sizing: border-box;
                position: absolute;
                bottom: 10px;
                width: 330px;
                height: 30px;
                left: 50%;
                margin-left: -165px;
                color: #FFF;
                text-transform: uppercase;
                background-color: #4980ae;
                font-size: 18px;
                border-style: none;
                border-radius: 5px;
                cursor: pointer;
            }
            
            #InputOverlay {
                text-align: center;
                white-space: nowrap;
            }
            #InputOverlay:before {
                content: '';
                display: inline-block;
                height: 100%;
                vertical-align: middle;
                margin-right: -0.25em;
            }
            #InputOverlay .widthWrapper {
                display: inline-block;
                vertical-align: middle;
                width: 400px;
                text-align: left;
                max-width: 100%;
            }
            #InputOverlay .widthWrapper #InputCurrent, #InputOverlay .widthWrapper .kink-simple {
                display: block;
                box-sizing: border-box;
                padding: 10px;
                background-color: #EEE;
            }
            #InputOverlay .widthWrapper .kink-simple {
                position: relative;
                height: 40px;
                line-height: 20px;
                cursor: pointer;
            }
            #InputOverlay .widthWrapper .kink-simple .choice {
                margin-right: 5px;
            }
            #InputOverlay .widthWrapper .kink-simple .txt-category {
                position: absolute;
                right: 5px;
                top: 5px;
                text-transform: uppercase;
                font-size: 90%;
                font-weight: bold;
                opacity: 0.6;
                line-height: 1em;
            }
            #InputOverlay .widthWrapper .kink-simple .txt-field, #InputOverlay .widthWrapper .kink-simple .txt-kink {
                vertical-align: middle;
            }
            #InputOverlay .widthWrapper .kink-simple .txt-field:empty {
                display: none;
            }
            #InputOverlay .widthWrapper .kink-simple .txt-field:before {
                content: '(';
            }
            #InputOverlay .widthWrapper .kink-simple .txt-field:after {
                content: ') ';
            }
            
            #InputOverlay .widthWrapper #InputPrevious .kink-simple:first-child,
            #InputOverlay .widthWrapper #InputNext .kink-simple:nth-child(3) {
                background-color: #BBB;
                font-size: 10px;
                margin-left: 12px;
                margin-right: 12px;
                height: 33px;
            }
            #InputOverlay .widthWrapper #InputPrevious .kink-simple:nth-child(2),
            #InputOverlay .widthWrapper #InputNext .kink-simple:nth-child(2) {
                background-color: #CCC;
                font-size: 11px;
                margin-left: 6px;
                margin-right: 6px;
                height: 37px;
            }
            #InputOverlay .widthWrapper #InputPrevious .kink-simple:nth-child(3),
            #InputOverlay .widthWrapper #InputNext .kink-simple:first-child {
                background-color: #DDD;
                margin-left: 3px;
                margin-right: 3px;
            }
            #InputOverlay .widthWrapper #InputPrevious .kink-simple:first-child {
                padding-bottom: 4px;
                padding-top: 7px;
            }
            #InputOverlay .widthWrapper #InputNext .kink-simple:nth-child(3) {
                padding-top: 4px;
            }
            #InputOverlay .widthWrapper #InputPrevious .kink-simple:nth-child(2) {
                padding-bottom: 7px;
                padding-top: 9px;
            }
            #InputOverlay .widthWrapper #InputNext .kink-simple:nth-child(2) {
                padding-top: 7px;
            }
            
            #InputPrevious .kink-simple {
                border-top-left-radius: 2px;
                border-top-right-radius: 2px;
            }
            #InputNext .kink-simple {
                border-bottom-left-radius: 2px;
                border-bottom-right-radius: 2px;
            }
            
            #InputOverlay .widthWrapper #InputCurrent {
                position: relative;
            }
            #InputOverlay .widthWrapper #InputCurrent .closePopup {
                position: absolute;
                top: 0;
                right: 5px;
                border-style: none;
                background-color: transparent;
                font-size: 30px;
                cursor: pointer;
                outline-style: none!important;
                opacity: 0.65;
            }
            #InputOverlay .widthWrapper #InputCurrent .closePopup:hover {
                opacity: 1;
            }
            #InputOverlay .widthWrapper #InputCurrent h2 {
                text-transform: uppercase;
                opacity: 0.6;
                margin: 0;
            }
            #InputOverlay .widthWrapper #InputCurrent h3 {
                margin-top: 3px;
                margin-bottom: 0;
                font-size: 14px;
            }
            #InputOverlay .widthWrapper #InputCurrent #InputValues .big-choice {
                padding: 10px;
                background-color: rgba(255,255,255,0.75);
                border-radius: 4px;
                margin-top: 5px;
                cursor: pointer;
            }
            #InputOverlay .widthWrapper #InputCurrent #InputValues .big-choice.selected {
                font-weight: bold;
            }
            #InputOverlay .widthWrapper #InputCurrent #InputValues .big-choice.selected .choice {
                opacity: 1;
            }
            #InputOverlay .widthWrapper #InputCurrent #InputValues .big-choice:hover {
                padding: 8px;
                border: solid #999 2px;
                background-color: rgba(255,255,255,1);
            }
            #InputOverlay .widthWrapper #InputCurrent #InputValues .big-choice .btn-num-text {
                float: right;
                display: inline-block;
                border: solid #CCC 1px;
                text-align: center;
                width: 16px;
                border-radius: 3px;
            }
            #StartBtn {
                position: absolute;
                top: -3px;
                right: 5px;
                box-sizing: border-box;
                width: 36px;
                height: 36px;
                background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTAvMTUvMTWxuPuyAAACcElEQVRYhe3X30tTYRzH8fdz3FYTd1xamAuTLDbM3EwqNMnoQgxydVH0A6Ks/oG6Mvp1n1flVUJE3pjUTVPCCJxmEKTWRAuCApujkmhJoZu57ZwuwsCaOx7nbBf73D2H7/PldfjCc54j6CxXSaNI/xvwdzIgrWRAWsmAtJJ2IIOe4iLzejoqmym1lDAZ+UFEicatC8Vm6A++5Jb/Pm+nxlIHatl2keo8FwJBriGHREe8U7bjyrWz7/m51IHq1lWjqire4AAvJkf5qczGrduUvYHTRQdxyQ5dGN0gg8hCBc4MXyUQnliwbqO5kOO2/ZzyXQagONvGcO0DLrxp5m7As3ygxUZB4aTvEt1fnuGSHQgEnoleKnIdEEi8NymQ6h7555nocvJt9jsPJ3o4XFhHq/MaAkFF/xE+hD5p9kwKJLqccZ+HYjMcs9XTXnkdSUi0BToXhYEUnUM7rFvnYRqHryx6b1Ig1T2C6h4h0uDjqK0eSUi4ZAc9VbeRhMS76XFdGFjmkblkB3277yAbc3g/PY7D69bdc9lGNoexGi10fOzG7nWTb7KuLCh8YJAyy2YEgqE997AaLbQFOjnxqom1JiueXTd190xqZOZHOwFoLDrEVCxMm9/D+dfNSELiSVUrpZaSlQXNpTc4wJrHNX/W+SYr5bKdqBr/45soSxqZQWTNW/tDn+etV0umpbT93VtP8awSwZhl4EZZE/7wwgddsdmGJAQxRUktyPt1gIaCvTQU1Ca8eghAVVX6goO6QULPn2vBqnyatpylJm87RrHwu0TVKE+DQ7SMtSe8FSQNWomk3Z06A9JKBqSVDEgraQf6BTg8uT5wSV/pAAAAAElFTkSuQmCC');
                border-style: none;
                border-radius: 4px;
                cursor: pointer;
            }
            #StartBtn:hover {
                opacity: 0.8;
            }
            @media (max-height: 500px) {
                #InputPrevious, #InputNext {
                    display: none;
                }
            }
        </style>
    </head>
    <body>
        <div class="widthWrapper">
            <button id="Edit"></button>
            <h1>Kink list</h1>
            <div class="legend">
                <div><span data-color="#FFFFFF" class="choice notEntered"></span> <span class="legend-text">Not Entered</span></div>
                <div><span data-color="#6DB5FE" class="choice favorite"></span> <span class="legend-text">Favorite</span></div>
                <div><span data-color="#23FD22" class="choice like"></span> <span class="legend-text">Like</span></div>
                <div><span data-color="#FDFD6B" class="choice okay"></span> <span class="legend-text">Okay</span></div>
                <div><span data-color="#DB6C00" class="choice maybe"></span> <span class="legend-text">Maybe</span></div>
                <div><span data-color="#920000" class="choice no"></span> <span class="legend-text">No</span></div>
            </div>
            <div id="ExportWrapper">
                <input type="text" id="URL">
                <button id="Export">Export</button>
                <div id="Loading">Loading</div>
            </div>
            <button id="StartBtn"></button>
            <div id="InputList"></div>
        </div>
        <div id="EditOverlay" class="overlay">
            <textarea id="Kinks">
#General
(General)
* Biting
? The act of biting or being bitten; sometimes painful, sometimes playful.
* Condoms
? The use of condoms in any way; typically refers to a preference for the use of condoms during penetration, but may also refer to condom play, in which a condom (typically filled), is used as a sex toy; or, the filling of condoms with fluids, such as semen.
* Consensual
? A preference for sexual interactions between characters in an RP to be fully consenting, by their characters' own free wills.
* Cuddling
? Characters showing affection through hugging, snuggling, and other forms of physical closeness.
* Dirty Talking
? The act of speaking in a typically explicit manner to provoke sexual stimulation from a participant, sometimes one's self; often in the context of seduction or foreplay.
* Docking
? Phallic insertion into another person's sheath and/or foreskin.
* Ear Play
? Interest in roleplay where ears play an important role. This can involve suckling, caressing, breathing/whispering into, pulling them, or any other kind of interaction focusing on the ears.
* Femboys
? Effeminate, girly males.
* Flexibility/Contortionism
? Exceptional or unrealistic flexibility, typically used to achieve extremely difficult or impossible sexual positions to derive maximum stimulation.
* Frotting
? The act of at least two penises being ground against each other for sexual gratification.
* Gender Transformation
? Changes to sex or gender, sometimes willing, sometimes unwilling. Encompasses both magical and sci-fi changes, as well as more realistic gender reassignment.
* Handjobs/Fingerjobs
? Sexual stimulation to the point of climax by direct, physical contact of the hands or fingers to the genitals.
* Heat/Estrus
?  A character of any gender, although usually female, entering a state of heightened sexual arousal which often alters or overrides their inhibitions. May correspond with being more receptive to impregnation.
* Hotdogging
? The act of placing a penis between the ass cheeks and pressing them against it -- sliding it between them in order to reach sexual satisfaction.
* Ice
? The use of ice in any fashion during sex, typically as a form of erotic foreplay.
* Intelligent Partners
? Exhibits a preference for partners that have particularly high levels of intelligence, wit, cunning and manipulation skills.
* Kissing
? Expresses an interest in kissing or being kissed by another character, typically denoting French kissing.
* Leather
? The use of leather, often in a bondage situation; typically includes leather garments or equipment associated with dominants, as well as harness gear.
* Licking
? The act of one character licking another. May or may not be sexual; when sexual, often in areas of the body that are sexual, including but not limited to the nipples, breasts, anus, genitalia etc.
* Masturbation
? The act of stimulating oneself sexually, usually utilizing physical contact from the hands or fingers to the genitals.
* Navel Play
? Engaging in sexual acts involving pleasure derived from a character's bellybutton; often refers to licking or tonguing of the navel.
* Photography/Videotaping
? The act of visually recording a scene amongst participants, often as a form of humiliation, exhibitionist fetishism and/or blackmail/extortion.
* Saliva
? Interest in roleplay that prominently includes saliva. This may refer to excessive secretion and great appreciation of it.
* Scratching
? One character scratching another with their nails or claws, sometimes leaving marks; sometimes but not necessarily painful.
* Sex Toys
? Refers to the inclusion of penetrating sex toys in an RP, including but not limited to dildos, vibrators, anal eggs, anal beads, strap-ons etc.
* Sexy/Slutty clothing
? Having least one character wear clothing that is of a sexually suggestive or explicit nature, including but not limited to exceptionally short skirts, flamboyant underwear, excessively tight clothing, clothing with explicit graphics, etc.
* Smoking
? Refers to the act of smoking and/or receiving pleasure from an aspect of smoking or smoke during an RP.
* Socks/Stockings
? Expresses an interest in the inclusion of socks and/or stockings in the sexual context of an RP, or an interest in characters wearing such.
* Spanking
? The act of striking the buttocks of another character, or being the recipient of such; often as a form of erotic foreplay or as punishment in a BDSM setting.
* Strip Tease
? The act of dramatically removing clothing or watching a participant do such, typically as a form of seduction.
* Sweat
? The act of sweating and/or receiving sexual gratification from the appearance, taste, scent and/or tactility of sweat.
* Teasing
? Refers to extended scenes of foreplay prior to explicit, sexual intercourse, which may be physical and/or verbal, typically to arouse one's partner to the point of sexual frustration or desperation.
* Tickling
? The act of tickling and/or being tickled in a sexual context of an RP; or, receiving sexual stimulation from such.
* Tomboys
? Females who behave or present themselves in a masculine manner.
* Tribadism / Scissoring
? Form of non-penetrative sex in which a person rubs their vagina against a same-sex partner's body for sexual stimulation, in most cases vaginal-to-vaginal contact through scissoring.
* Underwear
? An affinity for underwear, either being worn on one's self, one's partner(s) or by itself; often involves stimulation from the scent or tactility of the underwear, but may also refer to using underwear as a sex toy in any way.
* Underwear Bulges
? The act of being sexually aroused or stimulated by the sight and/or feel of someone's genitalia creating a bulge on the front of their underwear; typically refers to exceptionally large bulges, and may include pants bulges as well.
* Uniforms
? The act of being sexually aroused by uniforms or work-related attire, and/or engaging in RPs in which characters will wear such clothing.
* Unintelligent Partners
? Exhibits a preference for characters that exhibit below-average intelligence, often low enough to make them easy to manipulate; this includes everything from air-headed bimbos to large, animalistic brutes.
* Vanilla Sex
? Sex which does not involve such elements as BDSM, kink, or fetish activities.
* Voyeurism/Exhibitionism
? Refers to the derivation of sexual stimulation from either/or the action of watching, typically in secret, a person (or people) reveal themselves or do something otherwise explicit, or the act of revealing one's self and/or doing something otherwise explicit with the intent to be viewed.

#Anal Sex
(General)
* Anal Fisting
? The act of inserting one's hand(s) and/or arm(s) into one's partner's anus, or being the recipient of such acts.
* Anal Sex (Giving)
? The act of anally penetrating a partner.
* Anal Sex (Receiving)
? The act of being anally penetrated.
* Anal Training
? Engaging in the use of the various anatomy of a character's anus to otherwise prepare and/or acclimate the character to an insertion, the size of which the character would not otherwise be comfortable taking.
* Anal Virginity
? Engaging in anal sex with a character who has never been anally penetrated before, or being anally penetrated while playing a character that has never been penetrated before.
* Gaping (Anal)
? Stretching the anus during penetration, to the point that it stays open for a period of time.
* Pegging
? Anal penetration with a strap-on.
* Rimming (Giving)
? The act of giving oral stimulation to a partner's anus, by the means of licking and/or penetrating the recipient's anus with the tongue.
* Rimming (Receiving)
? The act of receiving oral stimulation to one's anus, by the means of licking and/or having one's anus penetrated by the tongue.


#Kinky
(General)
* Ass Worship
? Gratuitous acknowledgment of one's partner's ass or buttocks, either verbal and/or physical, or receiving such actions.
* Ballbusting
? Harm to the testicles, usually for sexual pleasure.
* Breast/Nipple Play
? Sexual stimulation of the breasts and/or nipples.
* Breast/Nipple Worship
? Gratuitous acknowledgement of one's partner's chest or nipples, either verbal and/or physical, or receiving such actions.
* Breeding
? Entails the act sexual intercourse for the sole purpose of inducing pregnancy and/or producing offspring.
* Clothed Sex
? Engaging where you and/or your partner are not undressed during sexual interaction.
* Cock/Balls Worship
? Gratuitous acknowledgment of one's partner's cock and/or balls, either verbal and/or physical, or receiving such actions; typically implies oral stimulation.
* Crossdressing
? Engaging where one or more characters dress in the clothes of the gender opposite to their own.
* Crotch Sniffing
? The act of receiving pleasure from inhaling the scent of the crotch, or receiving such actions. Emphasis is often placed on the musk and/or pheromone-related properties of the scent.
* Double Penetration
? The act of penetrating a single character with two objects, including but not limited to the penis, sex toys, fist etc., or receiving such.
* Drug/Alcohol Use
? The use of illicit drugs and/or alcohol
* Electric Toys
? The use of sex toys that carry an electrical current; sometimes painful.
* Enemas
? The application of a liquid, typically warm water or a body fluid, to the intestines of a character, often to clean them out, but sometimes as a form of discipline or sexual gratification, or receiving such actions; might imply a form of administration other than phallic penetration.
* Extreme Tightness
? Engaging in an RP in which at least one character exhibits exceptional tightness in his or her anus, vagina or throat; sometimes implies pain, exceptionally large penetrations and/or inexperience.
* Food Play
? The act of incorporating food into the sexual context of an RP, including but not limited to force-feeding, use of whipped cream or chocolate sauce or receiving sexual gratification from the act of eating; typically implies incredible and/or unrealistically large amounts of food being consumed.
* Foot Play
? The act of incorporating the feet or feet paws into the sexual context of an RP, including but not limited to the worshiping of feet, receiving sexual gratification from the sight or smell of feet and/or humping feet, sometimes to the point of orgasm.
* Foreskin Worship
? Gratuitous acknowledgment of one's partner's foreskin, either verbal and/or physical, or receiving such actions; typically implies oral stimulation.
* Genital/Nipple Piercings
? Engaging in an RP in which at least one character has piercings that are located on the nipples or sexual areas of the body; typically cock piercings.
* Hair Pulling
? The act of pulling or tugging on another character's hair, or being the recipient of such.
* Hirsute
? Refers to the preference for characters with excessive or pronounced hair; typically involves character that would otherwise not have hair to have hair, or for furry characters to have additional hair in areas such as but not limited to the pubis, armpits and chin, and often implies a denser or more wiry texture of hair.
* Messy
? Engaging in an RP in which the sexual portion of the RP is set in a venue in which a large amount of liquids, which may be bodily fluids, will be involved, such as but not limited to mud, food, snot or slime.
* Multiple Orgasms
? The act of cumming multiple times, sometimes in direct succession, or being the recipient of such actions.
* Multiple Partners
? Engaging in an RP containing at least three characters.
* Muscle Worship
? Gratuitous acknowledgment of someone's muscular physique, either verbal or physical.
* Musk
? Refers to exceptionally musky; typically implies pheromones derived from the crotch, which may or may not lack hygiene to any degree.
* Queefing
? The sounds of air expulsion via intercourse.
* Sexual Exhaustion
? Engaging in which at least one character's genitals and/or orifice(s) endure pain due to exceptionally arduous sex or sex of an exceptional duration; implies continuing despite such.
* Sexual Frustration
? Engaging in which at least one character is exceptionally desperate or horny and is often willing to eschew standard inhibitions in order to receive sexual stimulation.
* Shaving
? Engaging in the removal of fur/hair from a participant in an RP by the means of shaving.
* Strap-ons
? Engaging in an RP in which at least one character will wear a strap-on to penetrate another character.

# Hardcore
(General)
* 3+ Penetration
? The act of penetrating a single character with three or more objects, including but not limited to the penis, sex toys, fist etc., or receiving such actions.
* Anal Prolapse
? Where insides of the anus are pulled out by force (unnatural means, such as a cream, liquid or suction method or internal massage) or naturally (either by a cock, dildo, or pushing)
* Birthing
? Scenes in which someone goes into labor or gives birth; participants may derive sexual gratification from the experience.
* Breast Smothering
? The act of smothering a character using one's breasts, making it hard to breathe.
* Breath Control
? A situation in which at least one character will have physical control over the breathing habits of another character, often by either intermittent choking and/or due to the penetration of the throat.
* Choking
? A situation in which one character will control another character's breath with extreme force, and typically for extended and/or dangerous periods of time.
* Cock/Ball Smothering
? The act of smothering a character with a cock and/or balls, making it difficult to breathe.
* Cock Fucking
? The act of inserting one's penis into another penis and thrusting into it as if it were a more traditional orifice.
* Cock Slapping
? The act of using one's penis to slap one's partner and/or being slapped by a penis, usually in order to humiliate or debase a bottom prior to or during fellatio.
* Extreme Musk
? Engaging in an RP in which one character exudes exceptionally strong odors from the body, such as but not limited to odor from the crotch, foreskin, feet or armpit to degrees that are typically realistic and/or derived from excessive lack of hygiene.
* Face-Sitting
? A sexual practice where someone sits on another character's face with their buttocks or genitals, causing the person to be smothered, sometimes to the point asphyxiation; often done as form of forcing oral gratification.
* Fear
? Refers to the incorporation of one character having reason to be fearful during the sexual aspects of an RP.
* Footgear Worship
? The act of giving gratuitous acknowledgment to the shoes or boots of one's partner, typically referring to oral play, often to clean or shine the exterior of the shoes or boots, or musk play, when regarding the interior of the shoes or boots.
* Forced Clotheswearing
? The act of either forcing a character to wear or being forced to wear specific garments of clothing of the other character's choosing; often humiliating, and connotates crossdressing.
* Forced Nudity
? The act of either forcing a character to be nude or being forced to be nude by another character; typically used in public situations.
* Force Feeding
? Engaging in an RP in which a character, typically bound or otherwise immobile, is forced to consume large, often impossible and unrealistic, amounts of food against his or her will, often resulting in inflation and/or weight gain.
* Latex/Rubber
? The usage of latex and/or rubber material worn as clothing and/or used as a form of mummification/bondage; typically full body suits.
* Sexual Pain
? Refers to the inclusion of physical pain due to acts which are directly sexual; typically rough or excessive penetrations.
* Sounding
? The act of inserting metal rods into a male or female's urethra, or receiving such actions; technically implies rods that resonate and/or vibrate in response to a form of stimulation, but does not necessarily mean so.
* Urethra Play
? Sexual stimulation or play involving the male/female urethra. In males, typically connotates inserting objects into the penis.
* Verbal Abuse
? The act of verbally accosting or being verbally accosted with derogatory terms pertaining to sex, or in the effort to demean, degrade or otherwise humiliate another character, or occasionally to elicit sexual stimulation from abuse.

# Body preferences
(General)
* Cut Cocks
? Expresses an interest in circumcised penises, or penises with very little foreskin.
* Large Asses
? Specifies an interest in partners with a larger than normal ass.
* Large Balls
? Expresses an interest in balls that are large.
* Large Breasts
? Expresses an interest in exceptionally large breasts; typically DD or larger.
* Large Cocks
? Expresses an interest in exceptionally large cocks; typically over ten inches in length.
* Muscular Partners
? Expresses an interest in characters that are powerfully-built and/or athletic.
* Nonsexual Piercings
? Engaging in sex with a character who has piercings on parts of his or her body that are not of a sexual nature, such as but not limited to tongue, ears, bellybutton etc.
* Pubic Hair
? Expresses an interest in pubic hair, possibly in large or excessive quantities.
* Small Breasts
? Expresses an interest in breasts that are particularly small, sometimes to the point of appearing absent.
* Small Cocks
? Expresses an interest in cocks that are smaller than five inches.
* Twinks
? Expresses an interest in male characters that are feminine and subtly defined.


# Vaginal / Straight
(General)
* Cervical Penetration
? Engaging in sex that involves the penetration, by the penis or by another object, of a cervix; typically connotes exceptionally rough sex or exceptionally large insertions.
* Gaping (Vaginal)
? Stretching the vagina during penetration, to the point that it stays open for a period of time.
* Lactation
? The act of producing milk from one's breasts, or engaging in sex with a character that produces milk from one's breasts, typically in response to sexual stimulation, and any play that will emanate thereof.
* Pussy Worship
? Gratuitous acknowledgment of one's partner's vagina, either verbal and/or physical, or receiving such actions; typically implies oral stimulation.
* Squirting
? The act of a vagina emitting a projectile fluid during orgasm.
* Titfucking
? The act of placing one's penis in between a pair of breasts and achieving climax due to the friction thereof, or receiving such actions.
* Vaginal Fisting
? The act of placing one's hand(s) and/or arm(s) into a vagina, or receiving such actions.
* Vaginal Sex (Giving)
? The act of sexually penetrating a vagina.
* Vaginal Sex (Receiving)
? The act of being sexually penetrated in the vagina.
* Vaginal Virginity
? Engaging in vaginal sex with a character who has never been vaginally penetrated before, or being vaginally penetrated while playing a character that has never been penetrated before.

# Cum-related
(General)
* Bukkake
? The act of a group of at least two people ejaculating directly onto the face and/or body of a single recipient, or receiving such actions.
* Creampie
? The act of orgasming into or onto an exposed, often gaping, orifice, or receiving such actions.
* Cum Bath
? The act of being treated physically with cum -- typically in large amounts -- like having it rubbed into one's skin or fur, or literally bathing in it, or having one's semen used in such ways.
* Cum Enemas
? The act of performing an enema, the liquid being used in such being semen, or receiving such actions, often by means of an orgasm.
* Cum From Mouth/Nose
? The act of ejaculating with such force and/or by such a volume that the cum leaks and/or sprays from the bottom's mouth and/or nose, or receiving such actions.
* Cum Marking
? The act of cumming onto a bottom or submissive with the intent for the scent or sight of the cum to work as a proprietary mark, sometimes for extended or permanent periods of time, or receiving such actions.
* Cum Milking
? The act of collecting or milking the semen from at least one male partner, typically done through manual or mechanical stimulation to the penis, or using stored semen as a sexual toy in an RP. Often involves machines and apparati.
* Cum on Clothes
? The act of ejaculating onto clothing or wearing clothing that has been ejaculated on, often in public and/or for extended periods of time.
* Excessive Precum
? Engaging in an RP in which a character produces a larger than average amount of precum; typically unrealistic.
* Excessive Semen
? Engaging in an RP in which a character produces a larger than average amount of semen; typically unrealistic.
* Hard Cum Facials
? The act of cumming onto someone's face with no regard for that person's well-being, typically cumming into their ears, onto their eyes, into their nostrils or hair etc., or receiving such action; implies an exceptionally large amount of semen.
* Heavily Excessive Precum
? Engaging in an RP in which a character, typically unrealistically endowed, produces exceptionally large volumes of precum, including but not limited to multiple gallons, and/or looses precum with exceptional force and consistency, often to the point of being comparable to urinating or further.
* Heavily Excessive Semen
? Engaging in an RP in which a character, typically unrealistically endowed, produces exceptionally large volumes of semen, including but not limited to multiple gallons, and/or looses semen with exceptional force and consistency, often to the point of being comparable to urinating or further.
* Internal Cumshots
? The act of ejaculating into another's body, or receiving such actions.
* Premature Ejaculation
? Expresses interest in at least one partner reaching orgasm very quickly; typically implies eagerness, excessive sensitivity and/or prolonged teasing.
* Realistic Cum
? Expresses a preference for engaging in an RP in which the volume and quality of sexual fluid is realistic.
* Shooting Precum
? Engaging in an RP in which a character spurts precum with exceptional force and consistency.
* Sloppy Seconds
? Engaging in an RP in which a character that has just been came in receives sex from a different partner in the same orifice without removing the previous top's semen.
* Snowballing
? The act of receiving cum into one's mouth transmitted from another person's mouth, or french kissing while sharing a load of cum between one anothers' mouths.
* Soft Cum Facials
? The act of cumming directly onto one's face, typically into an open mouth or across the cheeks and/or lips, or receiving such actions.
* Swallowing Semen
? The act of orally consuming semen, either directly or indirectly from a penis.
* Thick/Sticky Cum
? A preference for characters' semen to be particularly thick and/or viscous, often comparable to tar or glue.
* Multiple orgasms/continuing after orgasm
? Continuing to be able to take park in sex without cool off period.

# Oral Sex
(General)
* Auto-Fellatio
? The act of performing fellatio or cunnilingus on one's self.
* Cunnilingus (Giving)
? The act of performing cunnilingus.
* Cunnilingus (Receiving)
? The act of receiving cunnilingus.
* Face-Fucking
? Refers to the act of penetrating the mouth of another character with a similar technique as fucking a vagina or anus, typically by bracing the mouth or skull and thrusting back and forth; often rough.
* Fellatio (Performing)
? The act of performing fellatio.
* Fellatio (Receiving)
? The act of receiving fellatio.
* Oral Sex (Giving)
? The act of performing fellatio or cunnilingus.
* Oral Sex (Receiving)
? The act of receiving fellatio or cunnilingus.
* Oral Virginity
? Engaging in an RP in which a character that has never performed fellatio or cunnilingus performs such acts.
* Throat Penetration
? The act of penetrating the mouth of another character to the depths at which the penis or insertion enters the back of the mouth cavity and/or throat, sometimes causing a gag reflex, or being the recipient of such actions.
                
# Genders
(General)
* Cuntboys
? Expresses an interest in male characters who have a vagina instead of male genitals.
* Females
? Expresses an interest in traditionally female characters.
* Hermaphrodites
? Expresses an interest in characters that have breasts, a penis and a vagina.
* Male-Herms
? Expresses an interest in characters that have a penis and a vagina, but no breasts.
* Males
? Expresses an interest in traditionally male characters.
* Shemales
? Expresses an interest in characters that have a penis and breasts, but not a vagina.
* Transgender
? Expresses an interest in characters whose assigned and identified sex are not the same.
                
 # BDSM & Related
(Giving, Receiving)
* Apparatuses
? The use of complex objects with moving parts in order to bondage, immobilize or otherwise sexually gratify and/or incapacitate a character, in the sexual context of an RP.
* Begging
? The self-abasing act of pleading, as a form of submission, being incorporated into an RP.
* Blindfolds
? The use of blindfolds or other objects to obscure the vision of at least one character in a sexual context.
* Branding
? A situation in which at least one character will be branded, typically as a form of sadomasochism. Typically by means of applying intense heat in a specific pattern designed to visually show ownership.
* Caging
? The act of placing another character in a cage, or being placed in a cage, or other confining, device.
* Chastity
? Sexual abstinence, either willing or forced; this can include someone simply abstaining from sexual activity, or the wearing of a device that prevents it.
* Coiling
? The act of becoming entwined, held or hugged in the grasp of a long tail, coils of a snake, serpent, or other long-bodied creature.
* Competition
? Pertains to multiple dominants competing to administer domination the best, or multiple submissives competing to please a dominant the best.
* Degradation
? A situation where one character will be purposefully degraded, meaning his or her sense of self worth will be lowered; typically in the context of guilt or BDSM.
* Discipline/Reinforcement
? The use of reinforcement (rewards and/or punishments) in order to train a submissive to obey the various commands of a master.
* Extreme Humiliation
? Engaging in an RP in which one character will purposefully be humiliated to the point (or attempted point) of intense, mental anguish and total loss of self-worth through sexual interaction; typically implies exceptional or devastating, psychological damage.
* Face Slapping
? Slaps to the face, of any degree or severity.
* Flogging/Whipping
? The use of toys, typically associated with BDSM and domination/submission, being employed against a submissive or bottom, particularly referring to contact play involving whips of any type, riding crops, paddles or flogs.
* Gags
? The act of placing and lodging an object in another character's mouth to force him or her to breathe through his or her nose, as well as creating the inability to speak, or receiving such actions.
* Hand Cuffs
? The use of hand cuffs to partially immobilize a character during an RP, or to restrain a character to an object.
* Heavy/Extreme Bondage
? The use of bondage that is extreme in either the position in which it causes the bound character to be in, the duration for which the character will be in bondage, the level of discomfort caused by the bondage or the amount of immobilization that will occur due to the bondage.
* Humiliation
? Engaging in an RP in which one character will be embarrassed, typically extremely and/or frequently, in an attempt to elicit either a response of sexual gratification from the emotions correlating to humiliation, or merely as a form of psychological domination or punishment; typically a more intense form of degradation.
* Leash & Collar
? Engaging in an RP in which a submissive or bottom will be adorned with a collar that will be attached to a leash.
* Light/Medium Bondage
? The use of bondage that is mild or moderate in either the position in which it causes the bound character to be in, the duration for which the character will be in bondage, the level of discomfort caused by the bondage or the amount of immobilization that will occur due to the bondage.
* Master/Pet
? Engaging in an RP in which a domination/submission relationship is played between at least two characters, and in which the bottom character takes on the role of a pet; typically a training-based scenario with positive reinforcement over negative reinforcement, as well as the inclusion of affection.
* Master/Slave
? Engaging in an RP in which a domination/submission relationship is played between at least two characters, and in which the bottom character takes on the role of a slave; typically requires the slave to accept any and all commands, often involves non-sexual forms of abuse and uses negative reinforcement.
* Objectification
? The act of either being treated or treating another character as a specific and set object, often articles of furniture, or bestowing dehumanizing tasks to a character in order to imbue a character with the traits of an object.
* Physical Restraints
? The act of giving or receiving commands, typically verbal, that limit the way in which another character is permitted to physically interact with another character.
* Public Humiliation
? One or more characters engaging in explicit and elicit, sexual activity in a public setting for the purposes of humiliating one or more characters.
* Puppy/Pony Play
? Engaging in an RP in which a domination/submission relationship is played between two characters, and in which the bottom character takes on the role and psyche of a feral puppy, pony or other predetermined animal; typically involves rituals, bathroom use control, speech restrictions, physical restrictions and humiliation, as well as extensive training and a mixture of positive and negative reinforcement.
* Sadism/Masochism
? The act of taking the role of a sadist or masochist, meaning one that receives sexual gratification from being the recipient of or administering physical pain.
* Sexual Restraints
? Refers to a dominant giving a command for how the submissive may act in regard to sexual acts or within a sexual situation; often a decree of chastity or prohibition from any form of sexual contact.
* Sissification
? The act of changing the appearance of a male character through realistic means, particularly by the use of makeup, female clothes and/or female accessories, to appear as a female and/or forcing the male to adopt the mannerisms of a female, or being the recipient of such actions.
* Speech Restrictions
? The act of giving or receiving commands, typically verbal, that limit the way in which another character is permitted to speak or otherwise make noise from one's mouth; typically used in a BDSM context to constrain the submissive to begging, animal noises or silence.
* Suspension Play
? Engaging in an RP that includes suspension apparatuses and/or rope toys, which typically will suspend one character above the bed or floor; often uncomfortable.
* Uppity
? Expresses an interest in engaging in an RP in which the submissive and/or bottom character is combative and disobedient in any number of ways.
* Wax Play
? The act of using wax, typically hot candle wax, as a form of sexual stimulation and/or torture, or receiving such actions.

 # Watersports / Scat
(Giving, Receiving)
* Bathroom Control
? A situation in which a character controls when, how and where another character may use the bathroom in any fashion, typically as a form of control or degradation.
* Diapers
? A situation in which at least one character will wear a diaper; typically implies that the diaper will be soiled with urine and/or fecal matter, usually in conjunction with age play or infantilism, but sometimes in conjunction with humiliation.
* Farting
? Farting, during sexual intercourse, or just as an act during the roleplay. May be exaggerated (visible expulsions of air) and/or with exaggerated flatulent noises.
* Hyper Scat
? Producing unnatural amounts of feces, or using other means to obtain feces in huge, often unrealistic, amounts within an RP, the excretion of product thereof causing sexual stimulation and/or distress to one or more characters.
* Hyper Watersports
? Producing unnatural amounts of urine, or using other means to obtain urine in huge, often unrealistic, amounts within an RP, the excretion of product thereof causing sexual stimulation and/or distress to one or more characters.
* Marking
? The act of urinating on another character in order to mark them with your proprietary scent of urine, or being the recipient of such actions.
* Piss Enemas
? The act of performing an enema, the liquid being used in such being urine, or receiving such actions, often by means of someone urinating inside his/her partner.
* Scat
? Pertains to the inclusion of fecal matter or the expelling of fecal matter in any form in the sexual context of an RP.
* Scat Torture
? The act of using fecal matter or the act of expelling fecal matter to abuse another character who is unwilling or uninterested in taking part in such actions, or being the recipient of such.
* Soiling
? The act of "fecal soiling" in one's underwear, pants or clothes, or having another character perform such actions.
* Swallowing Feces
? Engaging in an RP in which a character will orally consume fecal matter.
* Swallowing Urine
? Engaging in an RP in which a character will orally consume urine.
* Swallowing Vomit
? Engaging in an RP in which a character will orally consume vomit.
* Vomiting
? The act of vomiting, being vomited upon, consuming vomit or otherwise including vomit in the sexual context of an RP; typically in a BDSM context.
* Watersports
? Pertains to the inclusion of urine, or the expelling of urine, in any form, in the sexual context of an RP.
* Wetting
? The act of urinating in one's underwear, pants or clothes, or having another character urinate onto a person who is clothed to any degree.                
            </textarea>
            <button id="KinksOK">Accept</button>
        </div>
        <div id="InputOverlay" class="overlay">
            <div class="widthWrapper">
                <div id="InputPrevious"></div>
                <div id="InputCurrent">
                    <h2 id="InputCategory"></h2>
                    <h3 id="InputField"></h3>
                    <button class="closePopup">&times;</button>
                    <div id="InputValues"></div>
                </div>
                <div id="InputNext"></div>
            </div>
        </div>
        <script>
            
            var log = function(val, base) {
                return Math.log(val) / Math.log(base);
            };
            var strToClass = function(str){
                var className = "";
                str = str.toLowerCase();
                var validChars = 'abcdefghijklmnopqrstuvwxyz';
                var newWord = false;
                for(var i = 0; i < str.length; i++) {
                    var chr = str[i];
                    if(validChars.indexOf(chr) >= 0) {
                        if(newWord) chr = chr.toUpperCase();
                        className += chr;
                        newWord = false;
                    }
                    else {
                        newWord = true;
                    }
                }
                return className;
            };
            
            var kinks = {};
            var inputKinks = {}
            var colors = {}
            var level = {};
            
            $(function(){
                
                var imgurClientId = '9db53e5936cd02f';
                
                inputKinks = {
                    $columns: [],
                    createCategory: function(name, fields){
                        var $category = $('<div class="kinkCategory">')
                                .addClass('cat-' + strToClass(name))
                                .data('category', name)
                                .append($('<h2>')
                                .text(name));
                        
                        var $table = $('<table class="kinkGroup">').data('fields', fields);
                        var $thead = $('<thead>').appendTo($table);
                        for(var i = 0; i < fields.length; i++) {
                            $('<th>').addClass('choicesCol').text(fields[i]).appendTo($thead);
                        }
                        $('<th>').appendTo($thead);
                        $('<tbody>').appendTo($table);
                        $category.append($table);
                        
                        return $category;
                    },
                    createChoice: function(){
                        var $container = $('<div>').addClass('choices');
                        var levels = Object.keys(level);
                        for(var i = 0; i < levels.length; i++) {
                            $('<button>')
                                    .addClass('choice')
                                    .addClass(level[levels[i]])
                                    .data('level', levels[i])
                                    .data('levelInt', i)
                                    .attr('title', levels[i])
                                    .appendTo($container)
                                    .on('click', function(){
                                        $container.find('button').removeClass('selected');
                                        $(this).addClass('selected');
                                    });
                        }
                        return $container;
                    },
                    createKink: function(fields, name){
                        var $row = $('<tr>').data('kink', name).addClass('kinkRow');
                        for(var i = 0; i < fields.length; i++) {
                            var $choices = inputKinks.createChoice();
                            $choices.data('field', fields[i]);
                            $choices.addClass('choice-' + strToClass(fields[i]));
                            $('<td>').append($choices).appendTo($row);
                        }
                        $('<td>').text(name).appendTo($row);
                        $row.addClass('kink-' + strToClass(name));
                        return $row;
                    },
                    createColumns: function(){
                        var colClasses = ['100', '50', '33', '25'];
                        
                        var numCols = Math.floor((document.body.scrollWidth - 20) / 400);
                        if(!numCols) numCols = 1;
                        if(numCols > 4) numCols = 4;
                        var colClass = 'col' + colClasses[numCols - 1];
                        
                        inputKinks.$columns = [];
                        for(var i = 0; i < numCols; i++){
                            inputKinks.$columns.push($('<div>').addClass('col ' + colClass).appendTo($('#InputList')));
                        }
                    },
                    placeCategories: function($categories){
                        var $body = $('body');
                        var totalHeight = 0;
                        for(var i = 0; i < $categories.length; i++) {
                            var $clone = $categories[i].clone().appendTo($body);
                            var height = $clone.height();;
                            totalHeight += height;
                            $clone.remove();
                        }
                        
                        var colHeight = totalHeight / (inputKinks.$columns.length);
                        var colIndex = 0;
                        for(var i = 0; i < $categories.length; i++) {
                            var curHeight = inputKinks.$columns[colIndex].height();
                            var catHeight = $categories[i].height();
                            if(curHeight + (catHeight / 2) > colHeight) colIndex++;
                            while(colIndex >= inputKinks.$columns.length) {
                                colIndex--;
                            }
                            inputKinks.$columns[colIndex].append($categories[i]);
                        }
                    },
                    fillInputList: function(){
                        $('#InputList').empty();
                        inputKinks.createColumns();
                        
                        var $categories = [];
                        var kinkCats = Object.keys(kinks);
                        for(var i = 0; i < kinkCats.length; i++) {
                            var catName = kinkCats[i];
                            var category = kinks[catName];
                            var fields = category.fields;
                            var kinkArr = category.kinks;
                            
                            var $category = inputKinks.createCategory(catName, fields);
                            var $tbody = $category.find('tbody');
                            for(var k = 0; k < kinkArr.length; k++) {
                                $tbody.append(inputKinks.createKink(fields, kinkArr[k]));
                            }
                            
                            $categories.push($category);
                        }
                        inputKinks.placeCategories($categories);
                        
                        // Make things update hash
                        $('#InputList').find('button.choice').on('click', function(){
                            location.hash = inputKinks.updateHash();
                        });
                    },
                    init: function(){
                        // Set up DOM
                        inputKinks.fillInputList();
                        
                        // Read hash
                        inputKinks.parseHash();
                        
                        // Make export button work
                        $('#Export').on('click', inputKinks.export);
                        $('#URL').on('click', function(){ this.select(); });
                        
                        // On resize, redo columns
                        (function(){
                            
                            var lastResize = 0;
                            $(window).on('resize', function(){
                                var curTime = (new Date()).getTime();
                                lastResize = curTime;
                                setTimeout(function(){
                                    if(lastResize === curTime) {
                                        inputKinks.fillInputList();
                                        inputKinks.parseHash();
                                    }
                                }, 500);
                            });
                            
                        })();
                    },
                    hashChars: "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_.=+*^!@",
                    maxPow: function(base, maxVal) {
                        var maxPow = 1;
                        for(var pow = 1; Math.pow(base, pow) <= maxVal; pow++){
                            maxPow = pow;
                        }
                        return maxPow;
                    },
                    prefix: function(input, len, char){
                        while(input.length < len) {
                            input = char + input;
                        }
                        return input;
                    },
                    drawLegend: function(context){
                        context.font = "bold 13px Arial";
                        context.fillStyle = '#000000';
                        
                        var levels = Object.keys(colors);
                        var x = context.canvas.width - 15 - (120 * levels.length);
                        for(var i = 0; i < levels.length; i++) {
                            context.beginPath();
                            context.arc(x + (120 * i), 17, 8, 0, 2 * Math.PI, false);
                            context.fillStyle = colors[levels[i]];
                            context.fill();
                            context.strokeStyle = 'rgba(0, 0, 0, 0.5)'
                            context.lineWidth = 1;
                            context.stroke();
                            
                            context.fillStyle = '#000000';
                            context.fillText(levels[i], x + 15 + (i * 120), 22);
                        }
                    },
                    setupCanvas: function(width, height, username){
                        $('canvas').remove();
                        var canvas = document.createElement('canvas');
                        canvas.width = width;
                        canvas.height = height;
                        
                        var $canvas = $(canvas);
                        $canvas.css({
                            width: width,
                            height: height
                        });
                        // $canvas.insertBefore($('#InputList'));
                        
                        var context = canvas.getContext('2d');
                        context.fillStyle = '#FFFFFF';
                        context.fillRect(0, 0, canvas.width, canvas.height);
                        
                        context.font = "bold 24px Arial";
                        context.fillStyle = '#000000';
                        context.fillText('Kinklist ' + username, 5, 25);
                        
                        inputKinks.drawLegend(context);
                        return { context: context, canvas: canvas };
                    },
                    drawCallHandlers: {
                        simpleTitle: function(context, drawCall){
                            context.fillStyle = '#000000';
                            context.font = "bold 18px Arial";
                            context.fillText(drawCall.data, drawCall.x, drawCall.y + 5);
                        },
                        titleSubtitle: function(context, drawCall){
                            context.fillStyle = '#000000';
                            context.font = "bold 18px Arial";
                            context.fillText(drawCall.data.category, drawCall.x, drawCall.y + 5);
                            
                            var fieldsStr = drawCall.data.fields.join(', ');
                            context.font = "italic 12px Arial";
                            context.fillText(fieldsStr, drawCall.x, drawCall.y + 20);
                        },
                        kinkRow: function(context, drawCall){
                            context.fillStyle = '#000000';
                            context.font = "12px Arial";
                            
                            var x = drawCall.x + 5 + (drawCall.data.choices.length * 20);
                            var y = drawCall.y - 6;
                            context.fillText(drawCall.data.text, x, y);
                            
                            // Circles
                            for(var i = 0; i < drawCall.data.choices.length; i++){
                                var choice = drawCall.data.choices[i];
                                var color = colors[choice];
                                
                                var x = 10 + drawCall.x + (i * 20);
                                var y = drawCall.y - 10;
                                
                                context.beginPath();
                                context.arc(x, y, 8, 0, 2 * Math.PI, false);
                                context.fillStyle = color;
                                context.fill();
                                context.strokeStyle = 'rgba(0, 0, 0, 0.5)'
                                context.lineWidth = 1;
                                context.stroke();
                            }
                            
                        }
                    },
                    export: function(){
                        var username = prompt("Please enter your name");
                        if(typeof username !== 'string') return;
                        else if (username.length ) username = '(' + username + ')';
                        
                        $('#Loading').fadeIn();
                        $('#URL').fadeOut();
                        
                        // Constants
                        var numCols = 6;
                        var columnWidth = 250;
                        var simpleTitleHeight = 35;
                        var titleSubtitleHeight = 50;
                        var rowHeight = 25;
                        var offsets = {
                            left: 10,
                            right: 10,
                            top: 50,
                            bottom: 10
                        };
                        
                        // Find out how many we have of everything
                        var numCats = $('.kinkCategory').length;
                        var dualCats = $('.kinkCategory th + th + th').length;
                        var simpleCats = numCats - dualCats;
                        var numKinks = $('.kinkRow').length;
                        
                        // Determine the height required for all categories and kinks
                        var totalHeight = (
                                (numKinks * rowHeight) +
                                (dualCats * titleSubtitleHeight) +
                                (simpleCats * simpleTitleHeight)
                        );
                        
                        // Initialize columns and drawStacks
                        var columns = [];
                        for(var i = 0; i < numCols; i++){
                            columns.push({ height: 0, drawStack: []});
                        }
                        
                        // Create drawcalls and place them in the drawStack
                        // for the appropriate column
                        var avgColHeight = totalHeight / numCols;
                        var columnIndex = 0;
                        $('.kinkCategory').each(function(){
                            var $cat = $(this);
                            var catName = $cat.data('category');
                            var category = kinks[catName];
                            var fields = category.fields;
                            var catKinks = category.kinks;
                            
                            var catHeight = 0;
                            catHeight += (fields.length === 1) ? simpleTitleHeight : titleSubtitleHeight;
                            catHeight += (catKinks.length * rowHeight);
                            
                            // Determine which column to place this category in
                            if((columns[columnIndex].height + (catHeight / 2)) > avgColHeight) columnIndex++;
                            while(columnIndex >= numCols) columnIndex--;
                            var column = columns[columnIndex];
                            
                            // Drawcall for title
                            var drawCall = { y: column.height };
                            column.drawStack.push(drawCall);
                            if(fields.length < 2) {
                                column.height += simpleTitleHeight;
                                drawCall.type =  'simpleTitle';
                                drawCall.data = catName;
                            }
                            else {
                                column.height += titleSubtitleHeight;
                                drawCall.type =  'titleSubtitle';
                                drawCall.data = {
                                    category: catName,
                                    fields: fields
                                };
                            }
                            
                            // Drawcalls for kinks
                            $cat.find('.kinkRow').each(function(){
                                var $kinkRow = $(this);
                                var drawCall = { y: column.height, type: 'kinkRow', data: {
                                        choices: [],
                                        text: $kinkRow.data('kink')
                                }};
                                column.drawStack.push(drawCall);
                                column.height += rowHeight;
                                
                                // Add choices
                                $kinkRow.find('.choices').each(function(){
                                    var $selection = $(this).find('.choice.selected');
                                    var selection = ($selection.length > 0)
                                            ? $selection.data('level')
                                            : Object.keys(level)[0];
                                    
                                    drawCall.data.choices.push(selection);
                                });
                            });
                        });
                        
                        var tallestColumnHeight = 0;
                        for(var i = 0; i < columns.length; i++){
                            if(tallestColumnHeight < columns[i].height) {
                                tallestColumnHeight = columns[i].height;
                            }
                        }
                        
                        var canvasWidth = offsets.left + offsets.right + (columnWidth * numCols);
                        var canvasHeight = offsets.top + offsets.bottom + tallestColumnHeight;
                        var setup = inputKinks.setupCanvas(canvasWidth, canvasHeight, username);
                        var context = setup.context;
                        var canvas = setup.canvas;
                        
                        for(var i = 0; i < columns.length; i++) {
                            var column = columns[i];
                            var drawStack = column.drawStack;
                            
                            var drawX = offsets.left + (columnWidth * i);
                            for(var j = 0; j < drawStack.length; j++){
                                var drawCall = drawStack[j];
                                drawCall.x = drawX;
                                drawCall.y += offsets.top;
                                inputKinks.drawCallHandlers[drawCall.type](context, drawCall);
                            }
                        }
                        
                        //return $(canvas).insertBefore($('#InputList'));
                        
                        // Send canvas to imgur
                        $.ajax({
                            url: 'https://api.imgur.com/3/image',
                            type: 'POST',
                            headers: {
                                // Your application gets an imgurClientId from Imgur
                                Authorization: 'Client-ID ' + imgurClientId,
                                Accept: 'application/json'
                            },
                            data: {
                                // convert the image data to base64
                                image:  canvas.toDataURL().split(',')[1],
                                type: 'base64'
                            },
                            success: function(result) {
                                $('#Loading').hide();
                                var url = 'https://i.imgur.com/' + result.data.id + '.png';
                                $('#URL').val(url).fadeIn();
                            },
                            fail: function(){
                                $('#Loading').hide();
                                alert('Failed to upload to imgur, could not connect');
                            }
                        });
                    },
                    encode: function(base, input){
                        var hashBase = inputKinks.hashChars.length;
                        var outputPow = inputKinks.maxPow(hashBase, Number.MAX_SAFE_INTEGER);
                        var inputPow = inputKinks.maxPow(base, Math.pow(hashBase, outputPow));
                        
                        var output = "";
                        var numChunks = Math.ceil(input.length / inputPow);
                        var inputIndex = 0;
                        for(var chunkId = 0; chunkId < numChunks; chunkId++) {
                            var inputIntValue = 0;
                            for(var pow = 0; pow < inputPow; pow++) {
                                var inputVal = input[inputIndex++];
                                if(typeof inputVal === "undefined") break;
                                var val = inputVal * Math.pow(base, pow);
                                inputIntValue += val;
                            }
                            
                            var outputCharValue = "";
                            while(inputIntValue > 0) {
                                var maxPow = Math.floor(log(inputIntValue, hashBase));
                                var powVal = Math.pow(hashBase, maxPow);
                                var charInt = Math.floor(inputIntValue / powVal);
                                var subtract = charInt * powVal;
                                var char = inputKinks.hashChars[charInt];
                                outputCharValue += char;
                                inputIntValue -= subtract;
                            }
                            var chunk = inputKinks.prefix(outputCharValue, outputPow, inputKinks.hashChars[0]);
                            output += chunk;
                        }
                        return output;
                    },
                    decode: function(base, output){
                        var hashBase = inputKinks.hashChars.length;
                        var outputPow = inputKinks.maxPow(hashBase, Number.MAX_SAFE_INTEGER);
                        
                        var values = [];
                        var numChunks = Math.max(output.length / outputPow)
                        for(var i = 0; i < numChunks; i++){
                            var chunk = output.substring(i * outputPow, (i + 1) * outputPow);
                            var chunkValues = inputKinks.decodeChunk(base, chunk);
                            for(var j = 0; j < chunkValues.length; j++) {
                                values.push(chunkValues[j]);
                            }
                        }
                        return values;
                    },
                    decodeChunk: function(base, chunk){
                        var hashBase = inputKinks.hashChars.length;
                        var outputPow = inputKinks.maxPow(hashBase, Number.MAX_SAFE_INTEGER);
                        var inputPow = inputKinks.maxPow(base, Math.pow(hashBase, outputPow));
                        
                        var chunkInt = 0;
                        for(var i = 0; i < chunk.length; i++) {
                            var char = chunk[i];
                            var charInt = inputKinks.hashChars.indexOf(char);
                            var pow = chunk.length - 1 - i;
                            var intVal = Math.pow(hashBase, pow) * charInt;
                            chunkInt += intVal;
                        }
                        var chunkIntCopy = chunkInt;
                        
                        var output = [];
                        for(var pow = inputPow - 1; pow >= 0; pow--) {
                            var posBase = Math.floor(Math.pow(base, pow));
                            var posVal = Math.floor(chunkInt / posBase);
                            var subtract = posBase * posVal;
                            output.push(posVal);
                            chunkInt -= subtract;
                        }
                        output.reverse();
                        return output;
                    },
                    updateHash: function(){
                        var hashValues = [];
                        $('#InputList .choices').each(function(){
                            var $this = $(this);
                            var lvlInt = $this.find('.selected').data('levelInt');
                            if(!lvlInt) lvlInt = 0;
                            hashValues.push(lvlInt);
                        });
                        return inputKinks.encode(Object.keys(colors).length, hashValues);
                    },
                    parseHash: function(){
                        var hash = location.hash.substring(1);
                        if(hash.length < 10) return;
                        
                        var values = inputKinks.decode(Object.keys(colors).length, hash);
                        var valueIndex = 0;
                        $('#InputList .choices').each(function(){
                            var $this = $(this);
                            var value = values[valueIndex++];
                            $this.children().eq(value).addClass('selected');
                        });
                    },
                    saveSelection: function(){
                        var selection = [];
                        $('.choice.selected').each(function(){
                            // .choice selector
                            var selector = '.' + this.className.replace(/ /g, '.');
                            // .choices selector
                            selector = '.' + $(this).closest('.choices')[0].className.replace(/ /g, '.') + ' ' + selector;
                            // .kinkRow selector
                            selector = '.' + $(this).closest('tr.kinkRow')[0].className.replace(/ /g, '.') + ' ' + selector;
                            // .kinkCategory selector
                            selector = '.' + $(this).closest('.kinkCategory')[0].className.replace(/ /g, '.') + ' ' + selector;
                            selector = selector.replace('.selected', '');
                            selection.push(selector);
                        });
                        return selection;
                    },
                    inputListToText: function(){
                        var KinksText = "";
                        var kinkCats = Object.keys(kinks);
                        for(var i = 0; i < kinkCats.length; i++){
                            var catName = kinkCats[i];
                            var catFields = kinks[catName].fields;
                            var catKinks = kinks[catName].kinks;
                            KinksText += '#' + catName + "\r\n";
                            KinksText += '(' + catFields.join(', ') + ")\r\n";
                            for(var j = 0; j < catKinks.length; j++){
                                KinksText += '* ' + catKinks[j] + "\r\n";
                            }
                            KinksText += "\r\n";
                        }
                        return KinksText;
                    },
                    restoreSavedSelection: function(selection){
                        setTimeout(function(){
                            for(var i = 0; i < selection.length; i++){
                                var selector = selection[i];
                                $(selector).addClass('selected');
                            }
                            location.hash = inputKinks.updateHash();
                        }, 300);
                    },
                    parseKinksText: function(kinksText){
                        var newKinks = {};
                        var lines = kinksText.replace(/\r/g, '').split("\n");

                        var cat = null;
                        var catName = null;
                        for(var i = 0; i < lines.length; i++){
                            var line = lines[i];
                            if(!line.length) continue;

                            if(line[0] === '#') {
                                if(catName){
                                    if(!(cat.fields instanceof Array) || cat.fields.length < 1){
                                        alert(catName + ' does not have any fields defined!');
                                        return;
                                    }
                                    if(!(cat.kinks instanceof Array) || cat.kinks.length < 1){
                                        alert(catName + ' does not have any kinks listed!');
                                        return;
                                    }
                                    newKinks[catName] = cat;
                                }
                                catName = line.substring(1).trim();
                                cat = { kinks: [] };
                            }
                            if(!catName) continue;
                            if(line[0] === '(') {
                                cat.fields = line.substring(1, line.length - 1).trim().split(',');
                                for(var j = 0; j < cat.fields.length; j++){
                                    cat.fields[j] = cat.fields[j].trim();
                                }
                            }
                            if(line[0] === '*'){
                                var kink = line.substring(1).trim();
                                cat.kinks.push(kink);
                            }
                        }
                        if(catName && !newKinks[catName]){
                            if(!(cat.fields instanceof Array) || cat.fields.length < 1){
                                alert(catName + ' does not have any fields defined!');
                                return;
                            }
                            if(!(cat.kinks instanceof Array) || cat.kinks.length < 1){
                                alert(catName + ' does not have any kinks listed!');
                                return;
                            }
                            newKinks[catName] = cat;
                        }
                        return newKinks;
                    }
                };

                $('#Edit').on('click', function(){
                    var KinksText = inputKinks.inputListToText();
                    $('#Kinks').val(KinksText.trim());
                    $('#EditOverlay').fadeIn();
                });
                $('#EditOverlay').on('click', function(){
                    $(this).fadeOut();
                });
                $('#KinksOK').on('click', function(){
                    var selection = inputKinks.saveSelection();
                    try {
                        var kinksText = $('#Kinks').val();
                        kinks = inputKinks.parseKinksText(kinksText);
                        inputKinks.fillInputList();
                    }
                    catch(e){
                        alert('An error occured trying to parse the text entered, please correct it and try again');
                        return;
                    }
                    inputKinks.restoreSavedSelection(selection);
                    $('#EditOverlay').fadeOut();
                });
                $('.overlay > *').on('click', function(e){
                    e.stopPropagation();
                });
        
                var stylesheet = document.styleSheets[0];
                $('.legend .choice').each(function(){
                    var $choice = $(this);
                    var $parent = $choice.parent();
                    var text = $parent.text().trim();
                    var color = $choice.data('color');
                    var cssClass = this.className.replace('choice ', '').trim();
                    
                    stylesheet.addRule('.choice.' + cssClass, 'background-color: ' + color + ';');
                    colors[text] = color;
                    level[text] = cssClass;
                });
        
                kinks = inputKinks.parseKinksText($('#Kinks').text().trim());
                inputKinks.init();
                
                (function(){
                    var $popup = $('#InputOverlay');
                    var $previous = $('#InputPrevious');
                    var $next = $('#InputNext');

                    // current
                    var $category = $('#InputCategory');
                    var $field = $('#InputField');
                    var $options = $('#InputValues');

                    function getChoiceValue($choices){
                        var $selected = $choices.find('.choice.selected');
                        return $selected.data('level');
                    }

                    function getChoicesElement(category, kink, field){
                        var selector = '.cat-' + strToClass(category);
                        selector += ' .kink-' + strToClass(kink);
                        selector += ' .choice-' + strToClass(field);

                        var $choices = $(selector);
                        return $choices;
                    }

                    inputKinks.getAllKinks = function(){
                        var list = [];

                        var categories = Object.keys(kinks);
                        for(var i = 0; i < categories.length; i++){
                            var category = categories[i];
                            var fields = kinks[category].fields;
                            var kinkArr = kinks[category].kinks;

                            for(var j = 0; j < fields.length; j++) {
                                var field = fields[j];
                                for(var k = 0; k < kinkArr.length; k++){
                                    var kink = kinkArr[k];
                                    var $choices = getChoicesElement(category, kink, field);
                                    var value = getChoiceValue($choices);
                                    var obj = { category: category, kink: kink, field: field, value: value, $choices: $choices, showField: (fields.length >= 2)};
                                    list.push(obj);
                                }
                            }

                        }
                        return list;
                    };

                    inputKinks.inputPopup = {
                        numPrev: 3,
                        numNext: 3,
                        allKinks: [],
                        kinkByIndex: function(i){
                            var numKinks = inputKinks.inputPopup.allKinks.length;
                            i = (numKinks + i) % numKinks;
                            return inputKinks.inputPopup.allKinks[i];
                        },
                        generatePrimary: function(kink){
                            var $container = $('<div>');
                            var btnIndex = 0;
                            $('.legend > div').each(function(){
                                var $btn = $(this).clone();
                                $btn.addClass('big-choice');
                                $btn.appendTo($container);

                                $('<span>')
                                        .addClass('btn-num-text')
                                        .text(btnIndex++)
                                        .appendTo($btn)

                                var text = $btn.text().trim().replace(/[0-9]/g, '');
                                if(kink.value === text) {
                                    $btn.addClass('selected');
                                }

                                $btn.on('click', function(){
                                    $container.find('.big-choice').removeClass('selected');
                                    $btn.addClass('selected');
                                    kink.value = text;
                                    $options.fadeOut(200, function(){
                                        $options.show();
                                        inputKinks.inputPopup.showNext();
                                    });
                                    var choiceClass = strToClass(text);
                                    kink.$choices.find('.' + choiceClass).click();
                                });
                            });
                            return $container;
                        },
                        generateSecondary: function(kink){
                            var $container = $('<div class="kink-simple">');
                            $('<span class="choice">').addClass(level[kink.value]).appendTo($container);
                            $('<span class="txt-category">').text(kink.category).appendTo($container);
                            if(kink.showField){
                                $('<span class="txt-field">').text(kink.field).appendTo($container);
                            }
                            $('<span class="txt-kink">').text(kink.kink).appendTo($container);
                            return $container;
                        },
                        showIndex: function(index){
                            $previous.html('');
                            $next.html('');
                            $options.html('');
                            $popup.data('index', index);

                            // Current
                            var currentKink = inputKinks.inputPopup.kinkByIndex(index);
                            var $currentKink = inputKinks.inputPopup.generatePrimary(currentKink);
                            $options.append($currentKink);
                            $category.text(currentKink.category);
                            $field.text((currentKink.showField ? '(' + currentKink.field + ') ' : '') + currentKink.kink);
                            $options.append($currentKink);

                            // Prev
                            for(var i = inputKinks.inputPopup.numPrev; i > 0; i--){
                                var prevKink = inputKinks.inputPopup.kinkByIndex(index - i);
                                var $prevKink = inputKinks.inputPopup.generateSecondary(prevKink);
                                $previous.append($prevKink);
                                (function(skip){
                                    $prevKink.on('click', function(){
                                        inputKinks.inputPopup.showPrev(skip);
                                    });
                                })(i);
                            }
                            // Next
                            for(var i = 1; i <= inputKinks.inputPopup.numNext; i++){
                                var nextKink = inputKinks.inputPopup.kinkByIndex(index + i);
                                var $nextKink = inputKinks.inputPopup.generateSecondary(nextKink);
                                $next.append($nextKink);
                                (function(skip){
                                    $nextKink.on('click', function(){
                                        inputKinks.inputPopup.showNext(skip);
                                    });
                                })(i);
                            }
                        },
                        showPrev: function(skip){
                            if(typeof skip !== "number") skip = 1;
                            var index = $popup.data('index') - skip;
                            var numKinks = inputKinks.inputPopup.allKinks.length;
                            index = (numKinks + index) % numKinks;
                            inputKinks.inputPopup.showIndex(index);
                        },
                        showNext: function(skip){
                            if(typeof skip !== "number") skip = 1;
                            var index = $popup.data('index') + skip;
                            var numKinks = inputKinks.inputPopup.allKinks.length;
                            index = (numKinks + index) % numKinks;
                            inputKinks.inputPopup.showIndex(index);
                        },
                        show: function(){
                            inputKinks.inputPopup.allKinks = inputKinks.getAllKinks();
                            inputKinks.inputPopup.showIndex(0);
                            $popup.fadeIn();
                        }
                    };

                    $(window).on('keydown', function(e){
                        if(e.altKey || e.shiftKey || e.ctrlKey) return;
                        if(!$popup.is(':visible')) return;

                        if(e.keyCode === 38) {
                            inputKinks.inputPopup.showPrev();
                            e.preventDefault();
                            e.stopPropagation();
                        }
                        if(e.keyCode === 40) {
                            inputKinks.inputPopup.showNext();
                            e.preventDefault();
                            e.stopPropagation();
                        }

                        var btn = -1;
                        if(e.keyCode >= 96 && e.keyCode <= 101) {
                            btn = e.keyCode - 96;
                        }
                        else if(e.keyCode >= 48 && e.keyCode <= 53) {
                            btn = e.keyCode - 48;
                        }
                        else {
                            return;
                        }

                        var $btn = $options.find('.big-choice').eq(btn);
                        $btn.click();
                    });
                    $('#StartBtn').on('click', inputKinks.inputPopup.show);
                    $('#InputCurrent .closePopup, #InputOverlay').on('click', function(){
                        $popup.fadeOut();
                    });                    
                })();
            });
        </script>
    </body>
</html>
